<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough" 
	xmlns:pr="http://primefaces.org/ui">

<ui:composition template="/pages/template/templateBS3.xhtml">

<ui:define name="body">
	<h:form id="formCadastroPermissao" prependId="false">
		<div class="row">
			<div class="col-md-12">
				<div class="panel panel-info">
					<div class="panel-wrapper" aria-expanded="true">
						<div class="panel-body">
							<div class="form-body">
								
								<h3 class="box-title">
									<h:outputText value="Cadastrar Permiss達o" />
								</h3>
								
								<hr />
								
								<div class="row">
									<div class="col-sm-3"></div>
									<div class="col-sm-6">
										<div class="form-group">
										<label for="nome" class="control-label required">Permiss達o</label>
											<input type="text" class="form-control" jsf:id="nome" placeholder="Permiss達o"
												jsf:value="#{cadastrarPermissaoUsuarioInternoController.permissao.descricao}"
												maxlength="100" />
										</div>
									</div>
									<div class="col-sm-3"></div>
								</div>
									
								<div class="row">
									<div class="table-responsive">
										<div class="col-sm-12">
											<div class="panel panel-default panel-bordered">
												<div class="panel-body" jsf:id="idDivListaRecursos">
												
													<h:outputLabel value="Recursos da Permiss達o" />
													
													<h:dataTable value="#{cadastrarPermissaoUsuarioInternoController.permissao.listaRecursos}"
														var="recurso" styleClass="table table-hover table-striped">
														
														<h:column>
															<f:facet name="header">
																<h:outputText value="Recurso" />
															</f:facet>
															<h:inputText value="#{recurso.descricao}" styleClass="form-control" />
														</h:column>
						
														<h:column p:style="text-align: center; vertical-align: middle;">
															<f:facet name="header">
																<h:outputText value="Remover Recurso" />
															</f:facet>
															<pr:commandLink actionListener="#{cadastrarPermissaoUsuarioInternoController.removerRecurso(recurso)}"
																styleClass="btn btn-xs btn-danger" update="idDivListaRecursos"
																onclick="PF('statusDialog').show();" oncomplete="PF('statusDialog').hide();">
																<i class="fa fa-fw fa-remove"></i>Remover
															</pr:commandLink>
														</h:column>
						
													</h:dataTable>
												</div>
												
												<div class="panel-footer">
													<div class="text-right">
														<pr:commandLink styleClass="btn btn-primary" update="idDivListaRecursos"
															action="#{cadastrarPermissaoUsuarioInternoController.novoRecurso()}">
															<i class="fa fa-fw fa-plus"></i>Novo Recurso
														</pr:commandLink>
													</div>
												</div>
												
											</div>
										</div>
									</div>
								</div>
							
								<hr/>

								<div class="row">
									<div class="col-sm-12">
										<div class="form-group pull-right">
											<pr:commandLink action="#{cadastrarPermissaoUsuarioInternoController.limpar}" styleClass="btn btn-default"
												onclick="PF('statusDialog').show();" oncomplete="PF('statusDialog').hide();"
												update="mensagens-sistema idDivListaRecursos">
												<i class="fa fa-fw fa-trash"></i>Limpar
											</pr:commandLink>
											<h:outputText value=" " />
											<pr:commandLink action="#{cadastrarPermissaoUsuarioInternoController.excluir}" styleClass="btn btn-danger"
												onclick="PF('statusDialog').show();" oncomplete="PF('statusDialog').hide();"
												update="mensagens-sistema" rendered="#{not empty cadastrarPermissaoUsuarioInternoController.permissao.id}">
												<i class="fa fa-fw fa-remove"></i>Excluir
											</pr:commandLink>
											<h:outputText value=" " />
											<pr:commandLink action="#{cadastrarPermissaoUsuarioInternoController.gravar}" styleClass="btn btn-success"
												update="mensagens-sistema" onclick="PF('statusDialog').show();" oncomplete="PF('statusDialog').hide();">
												<i class="fa fa-fw fa-save"></i>Cadastrar
											</pr:commandLink>
										</div>
									</div>
								</div>

								<hr/>
								
								<div class="row">
					 				<div class="form-group">
				                       <div class="col-sm-6">
				                      		<a jsf:id="voltar" jsf:action="#{cadastrarPermissaoUsuarioInternoController.voltar}"
				                      			jsf:onclick="PF('statusDialog').show();" jsf:oncomplete="PF('statusDialog').hide();" 
				                      			class="btn btn-default">
				                      			
				                      			<i class="fa fa-fw fa-arrow-left"></i>Voltar
				                      		</a>
				                       </div>
		               				</div>
		             			</div>
		             			
                 			</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</h:form>
</ui:define>
</ui:composition>
</html>